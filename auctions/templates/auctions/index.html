{% extends "auctions/layout.html" %}

{% block body %}
    <h2>Active Listings</h2>

    {% for listing in listings reversed  %}
        {% if listing.is_active == True %}
            <div class="listing-box">
                <div class="listing-left">
                    {% if listing.image != "" %}
                        <img src="{{listing.image}}" alt="image of {{listing.title}}">
                    {% else %}
                    <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse2.mm.bing.net%2Fth%3Fid%3DOIP.GhK0xqhcPT0DVriwmC4wOAHaHa%26pid%3DApi&f=1&ipt=c5cf3b950e88b3b956d61bc4824812e7b2e17fc237cdf68b5b92178d407b2a47&ipo=images.jpg" alt="image of {{listing.title}}">
                    {% endif %}
                </div>
                <div class="listing-right">
                    <h3> {{listing.title}} </h3>
                    <p> Current Price: $ </p>
                    <p class="created-text"> Created: {{listing.date}} </p>
                    
                    
                </div>
            </div>
        {% endif %}
    {% endfor %} 

    
    title = models.CharField(max_length=100)
    description = models.TextField(max_length=300)
    image = models.CharField(max_length=100, validators=[RegexValidator(regex="([^\\s]+(\\.(?i)(jpe?g|png|gif|bmp))$)")], blank=True)
    starting_bid = models.DecimalField(max_digits=10, decimal_places=2 , default=0, validators=[MinValueValidator(0)])
    #starting_bid = models.FloatField(validators=[MinValueValidator(0), DecimalValidator(10000000, 2)], default=0)
    date = models.DateTimeField(auto_now_add=True)
    is_active = models.BooleanField(default=True)
    winner_id = models.IntegerField(blank=True, null=True)
    owner_id = models.ForeignKey(User, on_delete=models.CASCADE, blank=True, null=True, related_name="sellerListings")
    category




{% endblock %}